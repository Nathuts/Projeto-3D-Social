"use strict";if(-1!=location.href.indexOf(".com"))var apiURL="https://rserver01.azurewebsites.net/api/";else var apiURL="http://127.0.0.1:5000/api/";var request={get:function(a){return axios.get(apiURL.concat(a)).then(function(a){return a}).catch(function(a){return a})}},Center={get:function(){return request.get("Center").then(function(a){return a.data.forEach(function(a){a.address="".concat(a.street,", ").concat(a.addressNumber," - ").concat(a.district,", ").concat(a.city,", ").concat(a.zipCode)}),a.data}).catch(function(a){return a})},getById:function(a){return request.get("Center/".concat(a)).then(function(a){return a.data}).catch(function(a){return a})}},Demand={get:function(){return request.get("Demand").then(function(a){return a.data.forEach(function(a){a.percent=Math.round(100*a.totalDelivered/a.totalNeed)}),a.data}).catch(function(a){return a})}},Project={get:function(){return request.get("Project").then(function(a){return a.data.forEach(function(a){}),a.data}).catch(function(a){return a})},getById:function(a){return request.get("Project/".concat(a)).then(function(a){return a.data}).catch(function(a){return a})}};$(window).on("load",function(){setTimeout(function(){$(".page-loader").fadeOut()},500)}),$(document).ready(function(){function a(a,b){return a=$(a)[0].outerHTML,$.each(b,function(b,c){if("object"==typeof c)return void $.each(c,function(c,d){for(var e="{{"+b+"."+c+"}}";-1!=a.indexOf(e);)a=a.replace(e,d)});for(var d="{{"+b+"}}";-1!=a.indexOf(d);)a=a.replace(d,c)}),a}$("body").on("click",".navigation__sub > a",function(a){a.preventDefault(),$(this).parent().toggleClass("navigation__sub--toggled"),$(this).next("ul").slideToggle(250)}),$(".form-group--float")[0]&&($(".form-group--float").each(function(){0==!$(this).find(".form-control").val().length&&$(this).find(".form-control").addClass("form-control--active")}),$("body").on("blur",".form-group--float .form-control",function(){0==$(this).val().length?$(this).removeClass("form-control--active"):$(this).addClass("form-control--active")}),$(this).find(".form-control").change(function(){0==!$(this).val().length&&$(this).find(".form-control").addClass("form-control--active")}));var b={},c={},d=[function(){Center.get().then(function(a){a.forEach(function(a,c){b[a.id]=a}),d.shift()()}).catch(function(a){console.log("Error while trying to get centers"),console.log(a)})},function(){Project.get().then(function(a){a.forEach(function(a,b){c[a.id]=a}),d.shift()()}).catch(function(a){console.log("Error while trying to get projects"),console.log(a)})},function(){Demand.get().then(function(d){var e=$(".template-center");d.forEach(function(d,f){d.center=b[d.centerID],d.project=c[d.projectID];var g=a(e,d);$(g).show(),$("#grid .column").eq(f%3).append(g)}),$(e).remove(),$("#grid .column > .card").fadeIn(300)}).catch(function(a){console.log("Error while trying to get demands"),console.log(a)})}];d.shift()()}),$("#dropzone-upload")[0]&&(Dropzone.autoDiscover=!1),$(document).ready(function(){$(".textarea-autosize")[0]&&autosize($(".textarea-autosize")),$("input-mask")[0]&&$(".input-mask").mask(),$("#dropzone-upload")[0]&&$("#dropzone-upload").dropzone({url:"/file/post",addRemoveLinks:!0}),$('[data-toggle="popover"]')[0]&&$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]')[0]&&$('[data-toggle="tooltip"]').tooltip(),$(".scrollbar-inner")[0]&&$(".scrollbar-inner").scrollbar().scrollLock()}),$(document).ready(function(){$("body").on("click","[data-ma-action]",function(a){a.preventDefault();var b=$(this),c=b.data("ma-action"),d="";switch(c){case"aside-open":d=b.data("ma-target"),b.addClass("toggled"),$(d).addClass("toggled"),$(".content, .header").append('<div class="ma-backdrop" data-ma-action="aside-close" data-ma-target='+d+" />");break;case"aside-close":d=b.data("ma-target"),$('[data-ma-action="aside-open"], '+d).removeClass("toggled"),$(".content, .header").find(".ma-backdrop").remove()}})});